﻿create database QLSV1
use QLSV1
go 
CREATE TABLE LOPHOC
(
MALOP CHAR(10) NOT NULL ,
TENLOP NVARCHAR(50) NULL , 
MANGANH CHAR(10) NOT NULL ,
TENNGANH NVARCHAR(50) NULL , 
PRIMARY KEY ( MALOP)
)
CREATE TABLE NGHENGHIEP(
 MANGHENGHIEP CHAR(10) NOT NULL ,
 TENNGHENGHIEP NVARCHAR(100) NULL , 
 PRIMARY KEY (MANGHENGHIEP)
)
CREATE TABLE MONHOC (
TENMONHOC NVARCHAR(100) NULL ,
MAMONHOC CHAR (5 ) NOT NULL,
PRIMARY KEY ( MAMONHOC)
)
create table SINHVIEN (
MASV INT NOT  NULL , 
TENSV NVARCHAR(100)  NULL ,
GIOITINH BIT NOT NULL, 
NGAYSINH DATETIME NULL ,
DIACHI NVARCHAR(100) NULL,
MANGHENGHIEP CHAR(10) NULL , 
MALOP CHAR(10) NULL,
PRIMARY KEY (MASV),
FOREIGN KEY (MALOP) REFERENCES LOPHOC(MALOP),
FOREIGN KEY (MANGHENGHIEP) REFERENCES NGHENGHIEP(MANGHENGHIEP)
)

CREATE TABLE DIEMTHI (
MASV INT NOT NULL , 
MALOP CHAR(10) NULL,
MAMONHOC CHAR(5)  NULL ,
DIEM INT NOT NULL,
PRIMARY KEY (DIEM),
FOREIGN KEY (MALOP) REFERENCES LOPHOC(MALOP),
FOREIGN KEY (MAMONHOC) REFERENCES MONHOC(MAMONHOC)
)
INSERT INTO NGHENGHIEP
VALUES 
('IT',N'HỌC SINH'),
('HR',N'QUẢN LÝ NHÂN SỰ')
INSERT INTO SINHVIEN
VALUES 
('1',N'NGUYỄN NGỌC MINH','1','06/15/2003',N'HÀ NỘI','IT','CNTT01'),
('2',N'NGUYỄN BẢO NGỌC ','0','10/10/2003',N'HÀ NỘI' ,'HR','KHMT06'),
('3',N'NGUYỄN LINH NHI ','0','08/03/2003',N'HÀ NỘI' ,'IT','CNTT01')
INSERT INTO MONHOC
VALUES 
(N'LẬP TRÌNH CƠ BẢN ','M1'),
(N'LẬP TRÌNH WEB ','M2'),
(N'CẤU TRÚC DỮ LIỆU VÀ GIẢI THUẬT','M3'),
(N'LẬP TRÌNH JAVA','M4')
INSERT INTO LOPHOC
VALUES 
('CNTT01' , N'CÔNG NGHỆ THÔNG TIN 01','CNTT',N'CÔNG NGHỆ THÔNG TIN'),
('KHMT06',N'KHOA HỌC MÁY TÍNH 01','KHMT',N'KHOA HỌC MÁY TÍNH')
INSERT INTO DIEMTHI 
VALUES 
('1','CNTT01','M1','6'),
('1','CNTT01','M2','10'),
('1','CNTT01','M3','8'),
('1','CNTT01','M4','7'),
('2','KHMT06','M2','5'),
('2','KHMT06','M1','3'),
('3','CNTT01','M4','4'),
('3','CNTT01','M3','9')

DROP TABLE DIEMTHI